/**
 * Generated by @openapi-codegen
 *
 * @version 0.5.0
 */
import type * as Fetcher from "./golfFetcher";
import { golfFetch } from "./golfFetcher";
import type * as Schemas from "./golfSchemas";

export type DeployAdminDashError = Fetcher.ErrorWrapper<undefined>;

export type DeployAdminDashVariables = {
  body: Schemas.DeployAdminDashBody;
};

/**
 * Deploy the admin dashboard to a specified URL.
 */
export const deployAdminDash = (
  variables: DeployAdminDashVariables,
  signal?: AbortSignal,
) =>
  golfFetch<
    Schemas.SuccessOutputBody,
    DeployAdminDashError,
    Schemas.DeployAdminDashBody,
    {},
    {},
    {}
  >({ url: "/admin-dash", method: "put", ...variables, signal });

export type HealthCheckError = Fetcher.ErrorWrapper<undefined>;

/**
 * Find out if the server is up or not.
 */
export const healthCheck = (signal?: AbortSignal) =>
  golfFetch<
    Schemas.HealthCheckOutputBody,
    HealthCheckError,
    undefined,
    {},
    {},
    {}
  >({ url: "/alive", method: "get", signal });

export type CreateAliasError = Fetcher.ErrorWrapper<undefined>;

export type CreateAliasVariables = {
  body: Schemas.DeployAliasBody;
};

/**
 * Create an alias deployment.
 */
export const createAlias = (
  variables: CreateAliasVariables,
  signal?: AbortSignal,
) =>
  golfFetch<
    Schemas.SuccessOutputBody,
    CreateAliasError,
    Schemas.DeployAliasBody,
    {},
    {},
    {}
  >({ url: "/deploy/alias", method: "put", ...variables, signal });

export type DeployFilesError = Fetcher.ErrorWrapper<undefined>;

export type DeployFilesRequestBody = {
  /**
   * A .tar.gz that contains the files to be deployed.
   *
   * @format binary
   */
  contents?: Blob;
  /**
   * By default, if you upload a .tar.gz whose contents are all in one folder, the contents of that folder will be used instead of the folder itself. For example, if you upload a folder called 'dist' for the deployment 'mysite.com', the URL of your site content will not be at 'mysite.com/dist'. Setting this to true turns off that auto-unpacking.
   *
   * @default false
   */
  keepLeadingDirectories?: boolean;
  /**
   * Leave the existing files for the current deployment in place instead of completely replacing them.
   */
  preserveExistingFiles?: boolean;
  /**
   * The URL of the deployment that you're updating.
   *
   * @example mysite.mydomain.com
   */
  url: string;
};

export type DeployFilesVariables = {
  body: DeployFilesRequestBody;
};

/**
 * Put files in an existing deployment.
 */
export const deployFiles = (
  variables: DeployFilesVariables,
  signal?: AbortSignal,
) =>
  golfFetch<
    Schemas.SuccessOutputBody,
    DeployFilesError,
    DeployFilesRequestBody,
    {},
    {},
    {}
  >({ url: "/deploy/files", method: "put", ...variables, signal });

export type CreateDeploymentError = Fetcher.ErrorWrapper<undefined>;

export type CreateDeploymentVariables = {
  body: Schemas.DeploymentCreateInputBody;
};

/**
 * Create a new deployment.
 */
export const createDeployment = (
  variables: CreateDeploymentVariables,
  signal?: AbortSignal,
) =>
  golfFetch<
    Schemas.SuccessOutputBody,
    CreateDeploymentError,
    Schemas.DeploymentCreateInputBody,
    {},
    {},
    {}
  >({ url: "/deploy/new", method: "put", ...variables, signal });

export type GetDeploymentPathParams = {
  url: string;
};

export type GetDeploymentError = Fetcher.ErrorWrapper<undefined>;

export type GetDeploymentResponse =
  | (Omit<Schemas.StaticSiteDeployment, "type"> & {
      type: "StaticSite";
    })
  | (Omit<Schemas.AliasDeployment, "type"> & {
      type: "Alias";
    })
  | (Omit<Schemas.EmptyDeployment, "type"> & {
      type: "Empty";
    });

export type GetDeploymentVariables = {
  pathParams: GetDeploymentPathParams;
};

/**
 * Retrieve an active deployment.
 */
export const getDeployment = (
  variables: GetDeploymentVariables,
  signal?: AbortSignal,
) =>
  golfFetch<
    GetDeploymentResponse,
    GetDeploymentError,
    undefined,
    {},
    {},
    GetDeploymentPathParams
  >({ url: "/deployment/{url}", method: "get", ...variables, signal });

export type GetDeploymentsError = Fetcher.ErrorWrapper<undefined>;

export type GetDeploymentsResponse = {
  deployments?: (
    | (Omit<Schemas.StaticSiteDeployment, "type"> & {
        type: "StaticSite";
      })
    | (Omit<Schemas.AliasDeployment, "type"> & {
        type: "Alias";
      })
    | (Omit<Schemas.EmptyDeployment, "type"> & {
        type: "Empty";
      })
  )[];
};

/**
 * Retrieve all active deployments.
 */
export const getDeployments = (signal?: AbortSignal) =>
  golfFetch<GetDeploymentsResponse, GetDeploymentsError, undefined, {}, {}, {}>(
    { url: "/deployments", method: "get", signal },
  );

export type PostTokenGenerateError = Fetcher.ErrorWrapper<undefined>;

export type PostTokenGenerateVariables = {
  body: Schemas.CreateBearerTokenInputBody;
};

export const postTokenGenerate = (
  variables: PostTokenGenerateVariables,
  signal?: AbortSignal,
) =>
  golfFetch<
    Schemas.CreateBearerTokenOutputBody,
    PostTokenGenerateError,
    Schemas.CreateBearerTokenInputBody,
    {},
    {},
    {}
  >({ url: "/token/generate", method: "post", ...variables, signal });

export type PutUserRegisterError = Fetcher.ErrorWrapper<undefined>;

export type PutUserRegisterVariables = {
  body: Schemas.AddExternalUserInputBody;
};

export const putUserRegister = (
  variables: PutUserRegisterVariables,
  signal?: AbortSignal,
) =>
  golfFetch<
    Schemas.SuccessOutputBody,
    PutUserRegisterError,
    Schemas.AddExternalUserInputBody,
    {},
    {},
    {}
  >({ url: "/user/register", method: "put", ...variables, signal });
