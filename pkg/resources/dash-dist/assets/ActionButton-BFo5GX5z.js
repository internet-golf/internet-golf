import{r as s}from"./index-DNoJrR9K.js";import{L as y}from"./index-CY70_aYB.js";import{B as E,c as P}from"./Button-DMZMw4KX.js";const i=u=>typeof u?.then=="function",L=u=>{const{type:p,children:m,prefixCls:d,buttonProps:h,close:c,autoFocus:f,emitEvent:g,isSilent:C,quitOnNullishReturnValue:R,actionFn:n}=u,r=s.useRef(!1),a=s.useRef(null),[k,l]=y(!1),o=(...e)=>{c?.(...e)};s.useEffect(()=>{let e=null;return f&&(e=setTimeout(()=>{a.current?.focus({preventScroll:!0})})),()=>{e&&clearTimeout(e)}},[f]);const v=e=>{i(e)&&(l(!0),e.then((...t)=>{l(!1,!0),o.apply(void 0,t),r.current=!1},t=>{if(l(!1,!0),r.current=!1,!C?.())return Promise.reject(t)}))},x=e=>{if(r.current)return;if(r.current=!0,!n){o();return}let t;if(g){if(t=n(e),R&&!i(t)){r.current=!1,o(e);return}}else if(n.length)t=n(c),r.current=!1;else if(t=n(),!i(t)){o();return}v(t)};return s.createElement(E,{...P(p),onClick:x,loading:k,prefixCls:d,...h,ref:a},m)};export{L as A};
